<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Code Truth | Rebel Pool</title>
  <link rel="stylesheet" href="css/style.css">
  <style>
    .report { margin-top: 8px; font-family: monospace; white-space: pre-wrap; }
    .ok { color:#2e7d32; }
    .warn { color:#e65100; }
    .err { color:#c62828; }
    .muted { color:#777; }
    .verify-result { margin-top:6px; }
    .table { width:100%; border-collapse: collapse; margin-top: 18px; }
    .table th, .table td { text-align:left; padding:7px 9px; border-bottom:1px solid #ddd; }
    .table thead tr { background:#e9e9e9; }
    #verify-all { margin: 12px 0 0 0; }
    .modal { position: fixed; inset: 0; background: rgba(0,0,0,.55); display: none; align-items: center; justify-content: center; z-index: 9999; }
    .modal.open { display: flex; }
    .modal-content { background:#fff; color:#000; padding:14px 16px; border:2px solid #333; border-radius:6px;
      box-shadow:0 12px 40px rgba(0,0,0,.4); max-width:900px; width:95%; max-height:85vh; overflow:auto; }
    .modal-content h2 { margin-top:0; }
  </style>
</head>
<body>
<div class="masthead">
  <div class="masthead-title">REBEL POOL</div>
  <div class="masthead-copyright">&copy; 2025 Rebel Pool Cooperative. All Rights Reserved.</div>
  <div class="masthead-datebar"></div>
  <div class="masthead-date">
    <span id="masthead-date"></span>
    <span id="masthead-clock"></span>
  </div>
  <div class="masthead-datebar"></div>
</div>
<nav id="topnav" style="display: flex; align-items: center;">
  <a href="index.html">Home</a>
  <a href="stake.html">Stake</a>
  <a href="withdraw.html">Withdraw</a>
  <a href="wrap.html">Wrap / Unwrap</a>
  <a href="stats.html">Pool Stats</a>
  <a href="truth.html" class="active">Code Truth</a>
  <div style="margin-left:auto; display:flex; align-items:center; gap:6px; padding-right: 12px;">
    <label for="network-select" style="font-size:13px;">Network:</label>
    <select id="network-select" style="font-size:14px; padding:2px 6px; margin-left:6px;"></select>
  </div>
</nav>

<div id="container">
  <div id="sidebar">
    <a href="faq.html">FAQ</a>
    <a href="validators.html">Validators</a>
    <a href="contact.html">Contact</a>
    <a href="about.html">About</a>
  </div>

  <div id="main">
    <h2 style="margin-top:0;margin-bottom:10px;">The Truth is in the Code</h2>
    <p>
      <b>Rebel Pool publishes all critical smart contract code and deployment addresses — always open, always verifiable.</b>
      <br>
      <span style="color:#555;">
        Click “Verify Now” to perform on-chain checks (code at address, proxy → implementation via EIP-1967). No wallet needed.
      </span>
    </p>

    <button id="verify-all" class="stake-btn">Verify All</button>
    <div id="verify-all-result" class="verify-result"></div>

    <table class="table" id="truth-table">
      <thead>
        <tr>
          <th>Contract</th>
          <th>Address</th>
          <th>Source Code</th>
          <th>Compiler</th>
          <th>Tests</th>
          <th>Results</th>
          <th>Verify</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <div style="margin-top:28px;background:#f8f8f8;padding:17px 14px 10px 14px;border:1.5px solid #bbb;border-radius:7px;max-width:720px;">
      <b>Why does this matter?</b><br>
      <span style="color:#333;">
        True DeFi means <b>“Don’t trust — verify.”</b> We link the UI to on-chain facts so anyone can confirm proxies, implementations, and wiring.
      </span>
      <div class="report muted small" id="tech-notes"></div>
    </div>

    <div id="truth-report" class="report" style="margin-top:18px;"></div>
  </div>
</div>

<footer>
  © 1994–2025 Rebel Pool. Best viewed in Mosaic 2.0. Staking involves risk.
</footer>

  <script src="js/chain.js"></script>
  <script>
    function updateMastheadDateAndClock() {
      const d = new Date();
      const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
      document.getElementById('masthead-date').textContent = d.toLocaleDateString('en-US', options).toUpperCase();
      const hh = String(d.getHours()).padStart(2, '0');
      const mm = String(d.getMinutes()).padStart(2, '0');
      const ss = String(d.getSeconds()).padStart(2, '0');
      document.getElementById('masthead-clock').textContent = `${hh}:${mm}:${ss}`;
    }
    updateMastheadDateAndClock();
    setInterval(updateMastheadDateAndClock, 1000);

    
  </script>
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
<script src="js/truth.js" defer></script>
</body>
</html>
